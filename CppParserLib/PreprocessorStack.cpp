#include "PreprocessorStack.h"
#include "BaseLib/Define.h"


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void SPreprocessorStackItem::Init(CPPTokenList* pcProcessedTokens, CPPTokenMemory* pcTokenMemory)
{
	mpcProcessedTokens = pcProcessedTokens;
	mpcTokenMemory = pcTokenMemory;
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void CPreprocessorStack::Init(void)
{
	macStack.Init();
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void CPreprocessorStack::Kill(void)
{
	macStack.Kill();
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void CPreprocessorStack::Push(CPPTokenList* pcProcessedTokens, CPPTokenMemory* pcTokenMemory)
{
	SPreprocessorStackItem* psItem;

	psItem = macStack.Push();
	psItem->Init(pcProcessedTokens, pcTokenMemory);
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void CPreprocessorStack::Pop(void)
{
	macStack.Pop();
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
CPPTokenMemory* CPreprocessorStack::GetTokenMemory(void)
{
	SPreprocessorStackItem* psItem;

	psItem = macStack.Tail();
	if (psItem)
	{
		return psItem->mpcTokenMemory;
	}
	else
	{
		return NULL;
	}
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
CPPTokenList* CPreprocessorStack::GetTokenList(void)
{
	SPreprocessorStackItem* psItem;

	psItem = macStack.Tail();
	if (psItem)
	{
		return psItem->mpcProcessedTokens;
	}
	else
	{
		return NULL;
	}
}
