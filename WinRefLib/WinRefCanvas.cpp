#include "WindowLib/Canvas.h"
#include "WinRefWindowFactory.h"
#include "WinRefHelper.h"
#include "WinRefCanvas.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CWinRefCanvas::Init(CCanvas* pcCanvas, CNativeWindowFactory* pcWindowFactory)
{
	CNativeCanvas::Init(pcCanvas, pcWindowFactory);
    mpImage = NULL;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CWinRefCanvas::CreateNativeCanvas()
{
    CWinRefWindowFactory*   pcFactory; 
    int32                   iWidth;
    int32                   iHeight;

    pcFactory = (CWinRefWindowFactory*)mpcWindowFactory;
    iWidth = mpcCanvas->GetWidth();
    iHeight = mpcCanvas->GetHeight();

    mpImage = OMalloc<CImage>(iWidth, iHeight);

    if (mpImage.IsNotNull())
    {
        return true;
    }
    return false;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CWinRefCanvas::DestroyNativeCanvas(void)
{
    if (mpImage.IsNotNull())
    {
        mpImage = NULL;
    }
    return true;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
uint8* CWinRefCanvas::GetPixelData(void)
{
    return (uint8*)mpImage->GetData();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CWinRefCanvas::CopyCanvas(CNativeCanvas* pcSourceCanvas)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CWinRefCanvas::FillRect(CRectangle* pcRectangle, ARGB32 sColour)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CWinRefCanvas::SetPixel(int32 iX, int32 iY, ARGB32 sColour)
{
}

