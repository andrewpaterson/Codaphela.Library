#include "BaseLib/NewLine.h"
#include "JavaComment.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaComment::Init(char* szComment, int iLength)
{
	CJavaToken::Init();
	mszComment = szComment;
	miLength = iLength;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaComment::Kill(void)
{
	mszComment = NULL;
	miLength = 0;
	CJavaToken::Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaComment::Print(CChars* pszDest)
{
	int		iNewLines;
	
	iNewLines = CountLineFeeds(mszComment, miLength);
	if (iNewLines > 0)
	{
		pszDest->Append("/*");
		pszDest->Append(mszComment);
		pszDest->Replace("\n", " \\n ");
		pszDest->Append("*/");
	}
	else
	{
		pszDest->Append("//");
		pszDest->Append(mszComment);
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
char* CJavaComment::GetType(void)
{
	return "Comment";
}

