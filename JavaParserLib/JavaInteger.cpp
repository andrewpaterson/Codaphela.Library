#include "JavaInteger.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaInteger::Init(int32 iValue)
{
	CJavaLiteral::Init(JLT_Integer);
	miValue = iValue;
	meType = JIT_int32;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaInteger::Init(int64 iValue)
{
	miValue = iValue;
	meType = JIT_int64;
	CJavaLiteral::Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaInteger::Kill(void)
{
	miValue = 0;
	meType = JIT_Unknown;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CJavaInteger::Print(CChars* pszDest)
{
	if (meType == JIT_int32)
	{
		pszDest->Append((int32)miValue);
	}
	else if (meType == JIT_int64)
	{
		pszDest->Append(miValue);
		pszDest->Append('L');
	}
	else
	{
		pszDest->Append("[int?]");
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
char* CJavaInteger::GetType(void)
{
	if (meType == JIT_int32)
	{
		return "Literal (int32)";
	}
	else if (meType == JIT_int64)
	{
		return "Literal (int64)";
	}
	else
	{
		return CJavaLiteral::GetType();
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CJavaInteger::Is(int64 lli)
{
	if (meType == JIT_int64)
	{
		return miValue == lli;
	}
	else
	{
		return FALSE;
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CJavaInteger::Is(int32 i)
{
	if (meType == JIT_int32)
	{
		return (int32)miValue == i;
	}
	else
	{
		return FALSE;
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CJavaInteger::IsInteger(void) { return TRUE; }

