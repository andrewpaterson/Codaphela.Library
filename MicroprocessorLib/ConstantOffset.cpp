#include "W65C816.h"
#include "ConstantOffset.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CConstantOffset::Init(int32 iOffset)
{
    if (iOffset < 0 || iOffset > 3)
    {
        LOG_ERROR("Numeric Offset must be in the range 0...3.");
    }
    miOffset = iOffset;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
int32 CConstantOffset::GetOffset(CW65C816* pcCPU)
{
    return miOffset;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CConstantOffset::Print(CChars* psz)
{
    if (miOffset >= 0)
    {
        psz->Append("+");
        psz->Append(miOffset);
    }
    else
    {
        psz->Append(miOffset);
    }
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CConstantOffset::IsConstantOffset(void)
{
    return true;
}

