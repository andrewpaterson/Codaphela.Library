#include "W65C816.h"
#include "DoneInstructionIf16Bit.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CDoneInstructionIf16Bit::Init(EWidthFromRegister eWidth)
{
    COperation::Init();
    meWidth = eWidth;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CDoneInstructionIf16Bit::Execute(CW65C816* pcCPU)
{
    if (meWidth == WFR_M)
    {
        pcCPU->DoneIfMemory16Bit();
    }
    else if (meWidth == WFR_XY)
    {
        pcCPU->DoneIfIndex16Bit();
    }
    else
    {
        LOG_ERROR("Unknown Width.");
    }
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CDoneInstructionIf16Bit::IsInitialSide(void)
{
    return false;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CDoneInstructionIf16Bit::Print(CChars* psz)
{
    psz->Append("DONE_If_16Bit_");
    psz->Append(CWidthFromRegister::GetName(meWidth));
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
size CDoneInstructionIf16Bit::GetDone16(void)
{
    return 1;
}

