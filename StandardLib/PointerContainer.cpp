#include "ObjectSerialiser.h"
#include "ObjectDeserialiser.h"
#include "PointerContainer.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerContainer::Class(void)
{
	CObject::Class();
	Pointer(mp.This());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CPointerContainer> CPointerContainer::Init(void)
{
	PreInit();
	mp = NULL;;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CPointerContainer> CPointerContainer::Init(CPointer& pPointer)
{
	PreInit();
	mp = pPointer;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CPointerContainer> CPointerContainer::Init(CEmbeddedObject* pcObject)
{
	PreInit();
	mp = pcObject;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerContainer::Free(void)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CPointerContainer::Save(CObjectSerialiser* pcFile)
{
	return pcFile->WritePointer(mp);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CPointerContainer::Load(CObjectDeserialiser* pcFile)
{
	return pcFile->ReadPointer(mp.This());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerContainer::Clear()
{
	mp = NULL;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CNamedPointerContainer::Class(void)
{
	CObject::Class();
	Pointer(mp.This());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CNamedPointerContainer> CNamedPointerContainer::Init(void)
{
	PreInit();
	mp = NULL;;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CNamedPointerContainer> CNamedPointerContainer::Init(CPointer& pPointer)
{
	PreInit();
	mp = pPointer;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CNamedPointerContainer> CNamedPointerContainer::Init(CEmbeddedObject* pcObject)
{
	PreInit();
	mp = pcObject;
	PostInit();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CNamedPointerContainer::Free(void)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CNamedPointerContainer::Save(CObjectSerialiser* pcFile)
{
	return pcFile->WritePointer(mp);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CNamedPointerContainer::Load(CObjectDeserialiser* pcFile)
{
	return pcFile->ReadPointer(mp.This());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CNamedPointerContainer::Clear()
{
	mp = NULL;
}

