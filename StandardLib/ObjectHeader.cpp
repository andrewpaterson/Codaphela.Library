#include "ObjectFileGeneral.h"
#include "ObjectHeader.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Init(void)
{
	mcType = 0;
	mszObjectName.Zero();
	moi = INVALID_O_INDEX;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Init(OIndex oi)
{
	moi = oi;
	mszObjectName.Zero();
	mcType = OBJECT_POINTER_ID;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Init(char* szName)
{
	mszObjectName.Init(szName);
	mcType = OBJECT_POINTER_NAMED;
	moi = INVALID_O_INDEX;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Kill(void)
{
	mszObjectName.Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CPointerHeader::IsNamed(void)
{
	if (mcType != OBJECT_POINTER_NAMED)
	{
		return FALSE;
	}
	
	if (mszObjectName.Empty())
	{
		return FALSE;
	}

	return TRUE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CPointerHeader::IsIndexed(void)
{
	if (mcType == OBJECT_POINTER_ID)
	{
		return TRUE;
	}

	if (mcType == OBJECT_POINTER_NAMED && mszObjectName.Empty())
	{
		return TRUE;
	}

	return FALSE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectHeader::Init(void)
{
	//This should not call CPointerHeader::Init.
	mszClassName.Zero();
	miClassSize = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectHeader::Kill(void)
{
	mszClassName.Kill();
	CPointerHeader::Kill();
}

