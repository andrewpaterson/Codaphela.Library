#include "ObjectFileGeneral.h"
#include "ObjectHeader.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectIdentifier::Init(void)
{
	mcType = 0;
	mszObjectName.Zero();
	moi = INVALID_O_INDEX;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectIdentifier::Init(OIndex oi)
{
	mcType = OBJECT_POINTER_ID;
	moi = oi;
	mszObjectName.Zero();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectIdentifier::Init(char* szName)
{
	mcType = OBJECT_POINTER_NAMED;
	moi = INVALID_O_INDEX;
	mszObjectName.Init(szName);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectIdentifier::Kill(void)
{
	mszObjectName.Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CObjectIdentifier::IsNamed(void)
{
	if (mcType != OBJECT_POINTER_NAMED)
	{
		return FALSE;
	}
	
	if (mszObjectName.Empty())
	{
		return FALSE;
	}

	return TRUE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CObjectIdentifier::IsIndexed(void)
{
	if (mcType == OBJECT_POINTER_ID)
	{
		return TRUE;
	}

	if (mcType == OBJECT_POINTER_NAMED && mszObjectName.Empty())
	{
		return TRUE;
	}

	return FALSE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectHeader::Init(void)
{
	//This should not call CObjectIdentifier::Init.
	mszClassName.Zero();
	miClassSize = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CObjectHeader::Kill(void)
{
	mszClassName.Kill();
	CObjectIdentifier::Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Init(void)
{
	//This should not call CObjectIdentifier::Init.
	miEmbeddedIndex = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CPointerHeader::Kill(void)
{
	CObjectIdentifier::Kill();
}

