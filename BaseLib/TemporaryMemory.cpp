#include "Define.h"
#include "PointerFunctions.h"
#include "TemporaryMemory.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTemporaryMemory::Init(void)
{
	mpvTemp = NULL;
	muiTempSize = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTemporaryMemory::Kill(void)
{
	muiTempSize = 0;
	SafeFree(mpvTemp);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void* CTemporaryMemory::Size(size_t uiSize)
{
	if (uiSize > muiTempSize)
	{
		SafeFree(mpvTemp);
		mpvTemp = malloc(uiSize);
		muiTempSize = uiSize;
	}

	return mpvTemp;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void* CTemporaryMemory::Get(void)
{
	return mpvTemp;
}

