#include "Logger.h"
#include "SystemAllocator.h"


CSystemAllocator	gcSystemAllocator;


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void* CSystemAllocator::Malloc(size_t tSize)
{
	return malloc(tSize);
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void CSystemAllocator::Free(void* pv)
{
	if (pv != NULL)
	{
		free(pv);
		pv = NULL;
	}
	else
	{
		gcLogger.Error2(__METHOD__, "Tried to free NULL pointer.", NULL);
	}
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
void* CSystemAllocator::Realloc(void* pv, size_t tSize)
{
	if (pv == NULL)
	{
		pv = malloc(tSize);
	}
	else
	{ 
		pv = realloc(pv, tSize);
	}
	return pv;
}


//////////////////////////////////////////////////////////////////////////
//																		//
//																		//
//////////////////////////////////////////////////////////////////////////
char* CSystemAllocator::GetName(void)
{
	return "CSystemAllocator";
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CSystemAllocator::IsLocal(void)
{
	return FALSE;
}

