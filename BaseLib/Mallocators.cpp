#include "SystemAllocator.h"
#include "GlobalMemory.h"
#include "Mallocators.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CMallocators::Init(void)
{
	mmszcMallocators.Init(8, FALSE);

	AddMallocator(&gcSystemAllocator);
	AddMallocator(&gcMemoryAllocator);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CMallocators::Kill(void)
{
	mmszcMallocators.Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CMallocators::AddMallocator(CMallocator* pcMallocator)
{
	char*	sz;

	sz = pcMallocator->GetName();
	if (mmszcMallocators.GetWithKey(sz))
	{
		return FALSE;
	}
	mmszcMallocators.Put(sz, &pcMallocator);
	return TRUE;
}

