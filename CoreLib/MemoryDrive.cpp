#include <stdlib.h>
#include "MemoryDrive.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CMemoryDrive::Init(size_t uiSizeInBytes)
{
	uint64	uiSectorCount;
	uint64	uiSectorRemainder;

	CFileDrive::Init();

	uiSectorCount = uiSizeInBytes / DRIVE_SECTOR_SIZE;
	uiSectorRemainder = uiSizeInBytes % DRIVE_SECTOR_SIZE;
	mapsSectors = NULL;

	if (uiSectorRemainder != 0)
	{
		return false;
	}

	mapsSectors = (SDriveSector*)malloc(uiSizeInBytes);
	uiMaxSector = uiSectorCount;
	return true;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CMemoryDrive::Kill(void)
{
	if (mapsSectors)
	{
		free(mapsSectors);
		mapsSectors = NULL;
	}
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CMemoryDrive::Read(uint64 uiSector, SDriveSector* psSector)
{

}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CMemoryDrive::Write(uint64 uiSector, SDriveSector* psSector)
{

}

