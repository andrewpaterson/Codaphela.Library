#include "IndexTreeChildNode.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CIndexTreeChildNode::IsValid(void)
{
	return (u.msType.iType == INDEX_TREE_FILE_NODE_MEMORY) || (u.msType.iType == INDEX_TREE_FILE_NODE_FILE); 
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CIndexTreeChildNode::IsMemory(void)
{
	return (u.msType.iType == INDEX_TREE_FILE_NODE_MEMORY);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CIndexTreeChildNode::IsFile(void)
{
	return (u.msType.iType == INDEX_TREE_FILE_NODE_FILE); 
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CIndexTreeChildNode::Init(CFileIndex cFile)
{
	u.mcFile.Init(cFile.miFile, cFile.mulliFilePos);
	u.msType.iType = INDEX_TREE_FILE_NODE_FILE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CIndexTreeChildNode::Init(CFileIndex* pcFile)
{
	u.mcFile.Init(pcFile->miFile, pcFile->mulliFilePos);
	u.msType.iType = INDEX_TREE_FILE_NODE_FILE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CIndexTreeChildNode::Init(int iFile, filePos ulliFilePos)
{
	u.mcFile.Init(iFile, ulliFilePos);
	u.msType.iType = INDEX_TREE_FILE_NODE_FILE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CIndexTreeChildNode::Init(CIndexTreeNodeFile* pcMemory)
{
	u.mpcMemory = pcMemory;
	u.msType.iType = INDEX_TREE_FILE_NODE_MEMORY;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CIndexTreeChildNode::Clear(void)
{
	memset(this, 0, sizeof(CIndexTreeChildNode));
	//u.msType.iType = INDEX_TREE_FILE_NODE_UNDEFINED;  // Which is defined as 0.
}

