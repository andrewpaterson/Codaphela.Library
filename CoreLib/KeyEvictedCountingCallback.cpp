#include "KeyEvictedCountingCallback.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CKeyEvictedCoutingCallback::Init(char* szKey)
{
	CIndexTreeFileKeyDiagnosticCallback::Init(szKey);
	miCount = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CKeyEvictedCoutingCallback::Init(void* pvKey, int iKeyLength)
{
	CIndexTreeFileKeyDiagnosticCallback::Init(pvKey, iKeyLength);
	miCount = 0;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CKeyEvictedCoutingCallback::Kill(void)
{
	miCount = 0;
	CIndexTreeFileKeyDiagnosticCallback::Kill();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CKeyEvictedCoutingCallback::Evict(void* pvKey, int iKeySize, void* pvData, int iDataSize)
{
	if (Matches(pvKey, iKeySize))
	{
		miCount++;
	}
}

